{% extends 'base.html' %}

{% block js %}
    <script>
        const liquid = {{ liquid.liquid | safe }};
        const controller = {{ liquid.controller_id | safe }};
        const liquid_desc = "{{ liquid.desc | safe }}";
    </script>
    <script src="{{ url_for('static', filename='js/util.js') }}"></script>
    <script src="{{ url_for('static', filename='js/player.js') }}"></script>

    {% if liquid.controller_id == 1 %}
    <script src="{{ url_for('static', filename='js/controllers/segments.js') }}"></script>
    {% elif liquid.controller_id == 2 %}
    <script src="{{ url_for('static', filename='js/controllers/heatgraph.js') }}"></script>
    {% elif liquid.controller_id == 3 %}
    <script src="{{ url_for('static', filename='js/controllers/markers.js') }}"></script>
    {% endif %}

{% endblock %}

{% block css %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/liquid.css') }}">
{% endblock %}

{% block content %}

    {% include 'snippets/video.html' %}

    {% if liquid.controller_id == 1 %}
    {% include 'controllers/segments.html' %}
    {% elif liquid.controller_id == 2 %}
    {% include 'controllers/heatgraph.html' %}
    {% elif liquid.controller_id == 3 %}
    {% include 'controllers/markers.html' %}
    {% endif %}

    <hr>

    <h1>{% block title %} {{ liquid.video.name }} {% endblock %}</h1>

    <hr>

    <div class="vid-desc">
        desc: {{ liquid.desc }}
    </div>
    <div class="vid-method">
        controller: {{ liquid.controller }}
    </div>
    <div class="vid-instructions">
        instructions: {{ liquid.liquid }}
    </div>

{% endblock %}
